import { Component, Element, Prop } from '@stencil/core';

// not sure how to get the WAAPI adapter version here
import Flipping from 'flipping';

@Component({
    tag: 'grid-root',
    styleUrl: 'grid-root.scss',
    shadow: true
})
export class Grid {
  @Element() el: HTMLElement;

  // This isn't actually setting `this.el` to the Flipping parentElement
  private flipping = new Flipping({parentElement: this.el})

  @Prop() gridClass = false;

  componentDidLoad() {
    // When I log this.el, it correctly refers to the component,
    // but this.flipping.parentElement is just the default html element
    console.log(`${this.el.tagName} fired componentDidLoad`, this.el, this.flipping);
    this.flipping.read();
  }

  componentWillUpdate() {
    console.log(`${this.el.tagName} fired componentWillUpdate`);
    this.flipping.read();
  }

  componentDidUpdate() {
    console.log(`${this.el.tagName} fired componentDidUpdate`);
    this.flipping.flip();
  }

  hostData() {
    return {
      class: this.gridClass ? 'flipped' : ''
    }
  }

  render() {
    return [
      <grid-image src="data:image/jpeg;base64,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" />,
      <grid-title>I like to move it!</grid-title>,
      <grid-description>I like to move it, move it!<br />She likes to move it, move it!<br />He likes to move it, move it!<br />You like to â€¦ move it!</grid-description>
    ];
  }
}
